================================================================================
FULLCARSIM - VEHICLE DYNAMICS ENGINE
Development Plan - Adapted to Current Structure
Last Updated: February 13, 2026
================================================================================

CURRENT STRUCTURE (Implemented):
================================

FullCarSim/
â”‚
â”œâ”€â”€ include/                      # Public API headers
â”‚   â”œâ”€â”€ math/                     # âœ… COMPLETE - Advanced math system
â”‚   â”‚   â”œâ”€â”€ math_base.h          # Core types, constants, precision config
â”‚   â”‚   â”œâ”€â”€ vec3.h               # 3D vector operations
â”‚   â”‚   â”œâ”€â”€ mat3.h               # 3x3 matrix operations
â”‚   â”‚   â”œâ”€â”€ quat.h               # Quaternion operations (SLERP, integration)
â”‚   â”‚   â””â”€â”€ frames.h             # Rigid body transforms
â”‚   â”œâ”€â”€ vehicle/                  # ğŸš§ BASIC - Needs expansion
â”‚   â”‚   â””â”€â”€ vehicle.h            # Basic 2D vehicle model
â”‚   â”œâ”€â”€ simulation/               # âœ… SOLID - Core structure ready
â”‚   â”‚   â””â”€â”€ sim.h                # Simulation lifecycle & API
â”‚   â”œâ”€â”€ control/                  # ğŸ“ PLACEHOLDER - To be implemented
â”‚   â”‚   â””â”€â”€ control.h            # Control system interface
â”‚   â”œâ”€â”€ sensors/                  # ğŸ“ PLACEHOLDER - To be implemented
â”‚   â”‚   â””â”€â”€ sensors.h            # Sensor suite interface
â”‚   â””â”€â”€ track/                    # ğŸ“ PLACEHOLDER - To be implemented
â”‚       â””â”€â”€ track.h              # Track/environment interface
â”‚
â”œâ”€â”€ src/                          # Implementation files
â”‚   â”œâ”€â”€ math/                     # âœ… COMPLETE
â”‚   â”‚   â”œâ”€â”€ math_base.c
â”‚   â”‚   â”œâ”€â”€ vec3.c
â”‚   â”‚   â”œâ”€â”€ mat3.c
â”‚   â”‚   â”œâ”€â”€ quat.c
â”‚   â”‚   â””â”€â”€ frames.c
â”‚   â”œâ”€â”€ vehicle/                  # ğŸš§ BASIC
â”‚   â”‚   â””â”€â”€ vehicle.c
â”‚   â”œâ”€â”€ simulation/               # âœ… SOLID
â”‚   â”‚   â””â”€â”€ sim.c
â”‚   â”œâ”€â”€ control/                  # ğŸ“ EMPTY
â”‚   â”‚   â””â”€â”€ control.c
â”‚   â”œâ”€â”€ sensors/                  # ğŸ“ EMPTY
â”‚   â”‚   â””â”€â”€ sensors.c
â”‚   â”œâ”€â”€ track/                    # ğŸ“ EMPTY
â”‚   â”‚   â””â”€â”€ track.c
â”‚   â””â”€â”€ api.c                     # API re-export
â”‚
â”œâ”€â”€ unityInterface/               # Unity/External interface
â”‚   â”œâ”€â”€ include/
â”‚   â”‚   â””â”€â”€ sim_api.h            # Simplified Unity API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ sim_api.c            # API implementation
â”‚   â”‚   â””â”€â”€ debug_main.c         # Standalone test executable
â”‚   â””â”€â”€ build/                    # CMake build files
â”‚
â”œâ”€â”€ data/                         # Runtime data files
â”‚   â”œâ”€â”€ configs/                  # Simulation configurations
â”‚   â”œâ”€â”€ tracks/                   # Track definitions
â”‚   â””â”€â”€ vehicles/                 # Vehicle parameter files
â”‚
â”œâ”€â”€ build/                        # Build outputs
â”‚
â”œâ”€â”€ CODING_STANDARDS.md           # ğŸ“„ THIS IS YOUR GUIDE - READ FIRST
â”œâ”€â”€ AI_CONTEXT.md                 # ğŸ“„ FOR AI ASSISTANTS - READ BEFORE CODING
â””â”€â”€ README.md


EXPANSION PLAN - PRIORITY ORDER:
=================================

Phase 1: CORE PHYSICS [HIGH PRIORITY]
--------------------------------------
Upgrade vehicle model from 2D point-mass to full 6DOF rigid body dynamics

â”œâ”€â”€ include/physics/              # NEW DIRECTORY
â”‚   â”œâ”€â”€ physics_types.h          # RigidBody, Forces, Moments structs
â”‚   â”œâ”€â”€ integrator.h             # RK4, Semi-implicit Euler
â”‚   â””â”€â”€ dynamics_solver.h        # 6DOF equations of motion
â”‚
â”œâ”€â”€ src/physics/                  # NEW DIRECTORY
â”‚   â”œâ”€â”€ integrator.c
â”‚   â””â”€â”€ dynamics_solver.c
â”‚
â””â”€â”€ Upgrade: vehicle/vehicle.h    # Extend to use physics system
    - Add 6DOF state (position, orientation, linear/angular velocity)
    - Use vde_frame for pose representation
    - Integrate with dynamics solver


Phase 2: TIRE & SUSPENSION [HIGH PRIORITY]
-------------------------------------------
Foundation for realistic vehicle dynamics

â”œâ”€â”€ include/vehicle/              # EXPAND EXISTING
â”‚   â”œâ”€â”€ tire.h                   # Tire state & interface
â”‚   â”œâ”€â”€ suspension.h             # Suspension kinematics & forces
â”‚   â””â”€â”€ wheel.h                  # Wheel/tire assembly
â”‚
â”œâ”€â”€ include/tire_models/          # NEW DIRECTORY
â”‚   â”œâ”€â”€ tire_model_base.h        # Abstract tire model interface
â”‚   â”œâ”€â”€ brush_model.h            # Brush tire model
â”‚   â””â”€â”€ pacejka_model.h          # Magic Formula (MF6.1/6.2)
â”‚
â””â”€â”€ src/...                       # Corresponding implementations


Phase 3: TRACK & ENVIRONMENT [MEDIUM PRIORITY]
-----------------------------------------------
Ground contact and track representation

â”œâ”€â”€ include/track/                # EXPAND EXISTING
â”‚   â”œâ”€â”€ track.h                  # Main track interface (already exists)
â”‚   â”œâ”€â”€ surface.h                # Surface properties (friction, grip)
â”‚   â””â”€â”€ geometry.h               # Track geometry & elevation
â”‚
â””â”€â”€ src/track/                    # Corresponding implementations
    â”œâ”€â”€ track.c
    â”œâ”€â”€ surface.c
    â””â”€â”€ geometry.c


Phase 4: VEHICLE SYSTEMS [MEDIUM PRIORITY]
-------------------------------------------
Complete vehicle subsystems

â”œâ”€â”€ include/vehicle/              # EXPAND EXISTING
â”‚   â”œâ”€â”€ aerodynamics.h           # Drag, downforce, side forces
â”‚   â”œâ”€â”€ driveline.h              # Engine, transmission, differentials
â”‚   â”œâ”€â”€ brakes.h                 # Brake system & ABS
â”‚   â””â”€â”€ steering.h               # Steering kinematics
â”‚
â””â”€â”€ src/vehicle/                  # Corresponding implementations


Phase 5: CONTROL SYSTEMS [MEDIUM PRIORITY]
-------------------------------------------
Driver models and vehicle controllers

â”œâ”€â”€ include/control/              # EXPAND EXISTING
â”‚   â”œâ”€â”€ control.h                # Main interface (already exists)
â”‚   â”œâ”€â”€ driver_model.h           # AI driver
â”‚   â”œâ”€â”€ throttle_controller.h   # Throttle control strategies
â”‚   â”œâ”€â”€ brake_controller.h      # Brake control & ABS
â”‚   â””â”€â”€ steering_controller.h   # Steering control
â”‚
â””â”€â”€ src/control/                  # Corresponding implementations


Phase 6: SENSORS & TELEMETRY [LOW PRIORITY]
--------------------------------------------
Data acquisition and monitoring

â”œâ”€â”€ include/sensors/              # EXPAND EXISTING
â”‚   â”œâ”€â”€ sensors.h                # Main interface (already exists)
â”‚   â”œâ”€â”€ imu.h                    # Inertial measurement unit
â”‚   â”œâ”€â”€ wheel_sensors.h          # Wheel speed, slip
â”‚   â””â”€â”€ telemetry.h              # Enhanced telemetry system
â”‚
â””â”€â”€ src/sensors/                  # Corresponding implementations


IMPLEMENTATION NOTES:
=====================

1. ALL new code MUST follow standards in CODING_STANDARDS.md
2. Use vde_real for all floating-point math
3. Use math/ types (vde_vec3, vde_quat, vde_frame) for spatial math
4. Add defensive programming (null checks, validation)
5. Section code with //------------------------- headers
6. Use #pragma once for all headers
7. Document as you go

BEFORE ADDING NEW MODULES:
- Read CODING_STANDARDS.md
- Read AI_CONTEXT.md
- Check existing module structure for patterns
- Maintain consistency with math/ implementation quality

================================================================================
âš ï¸  IMPORTANT: Keep this file updated as structure evolves
================================================================================